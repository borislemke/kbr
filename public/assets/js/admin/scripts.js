function modalClose(){$(this).attr("data-target");$(".modal-wrapper").removeClass("active"),$(".drop-hint").show(),$(".m-image-preview").css({backgroundImage:""}),$("#app-wrapper").removeClass("blur"),$("form")[0].reset(),$("#edit-flag").val(0),$("#media-wrapper").html("")}function modalOpen(e){$(e).addClass("active"),$("#app-wrapper").addClass("blur"),NProgress.done()}function submit(e){$(e).submit()}function reload(){setTimeout(function(){NProgress.done(),location.reload()},1e3)}function populateAnalytics(e){analyticsData=e,analyticsCountries=e.data.countries,analyticsDevices=e.data.devices,bounceRate=1*e.data.complete.bounceRate.totalsForAllResults["ga:bounceRate"],newUsers=e.data.complete.newUsers.totalsForAllResults["ga:newUsers"],pagesPerSession=1*e.data.complete.pagesPerSession.totalsForAllResults["ga:pageviewsPerSession"],avgSessionDuration=1*e.data.complete.sessionDuration.totalsForAllResults["ga:avgSessionDuration"],todayViews=1*e.data.complete.todayViews.totalsForAllResults["ga:pageViews"],drawAnalyticsGraphs(analyticsData),insertTops(analyticsData),$("#ga-output-bounce").html(bounceRate.toFixed(2)+"%"),$("#ga-output-session").html(avgSessionDuration.toFixed(2)+"s"),$("#ga-output-pagepersession").html(pagesPerSession.toFixed(2)+" pages"),$("#ga-output-newvisits").html(newUsers+" visitors"),$("#ga-output-today").html(todayViews),NProgress.done();var t=document.getElementById("analytics-canvas"),e=t.toDataURL("image/png"),e=e.replace("data:image/png","data:application/octet-stream");$("#image-download-demo").attr("href",e),$("#image-download-demo").attr("download","analytics-render.png")}function insertTops(e){$.each(e.data,function(e,t){var a="",o=0;"views"!=e&&($.each(t,function(e,t){o+=1*t}),$.each(t,function(t,i){var s="desktop"==t?"desktop_mac":"mobile"==t?"phone_android":"tablet"==t?"tablet_android":"watch",r=parseFloat(i/o*100).toFixed(2);countDisplay=1e3>i?i:1e6>i?(i/1e3).toFixed(1)+"k":1e9>i?(i/1e6).toFixed(1)+"m":i,a+='<li data-total="'+o+'" data-count="'+i+'" class="flexbox"><i class="material-icons">'+s+'</i><p class="analytics-'+e+'-name">'+t+'</p><div class="value-wrapper"><p class="analytics-'+e+'-perc">'+r+'%</p><p class="analytics-'+e+'-count">'+countDisplay+'</p></div><span style="width: '+r+'%" class="'+e+'-bar"></span></li>'}),$("#analytics-"+e+" > ul").html(a),sortList("#analytics-"+e+" > ul",e))})}function sortList(e,t){var a=$(e+" > li").get();a.sort(function(e,t){var a=1*$(e).attr("data-count"),o=1*$(t).attr("data-count");return a>o?-1:o>a?1:0});var o=$(e);$.each(a,function(e,t){o.append(t)})}function drawAnalyticsGraphs(e){var t=e.data.views,a=document.getElementById("analytics-canvas"),o=$("#statistics-data").outerHeight(),i=$("#statistics-data").outerWidth(),s=e.data.complete.views.rows,r=40,l=o-r,n=Math.max.apply(Math,t),c=1.4*n,d=t.length,u=d-1,p=a.getContext("2d"),m=(a.getContext("2d"),32),g=(i-48)/u;p.canvas.width=i,p.canvas.height=l+16,pixelsPerPoint=l/(1.4*c),posX=m,p.fillStyle=hexToRgba(gblue,.1),p.beginPath(),p.moveTo(posX,l),$.each(t,function(e,t){var a=(-0.4*Math.random()+1.05).toFixed(4),i=(l-t/c*o)*a;i=i>l?l:i,p.lineTo(posX,i),posX+=g}),p.lineTo(i-16,l),p.closePath(),p.fill(),posX=m,p.fillStyle=hexToRgba(ggreen,.1),p.beginPath(),p.moveTo(posX,l),$.each(t,function(e,t){var a=(Math.random()*(.75-1.1)+1.1).toFixed(4),i=(l-t/c*o)*a;i=i>l?l:i,p.lineTo(posX,i),posX+=g}),p.lineTo(i-16,l),p.closePath(),p.fill(),posX=m,p.fillStyle=hexToRgba(gyellow,.1),p.beginPath(),p.moveTo(posX,l),$.each(t,function(e,t){var a=(Math.random()*(.75-1.1)+1.1).toFixed(4),i=(l-t/c*o)*a;i=i>l?l:i,p.lineTo(posX,i),posX+=g}),p.lineTo(i-16,l),p.closePath(),p.fill(),posX=m,p.fillStyle=hexToRgba(gpurple,.1),p.beginPath(),p.moveTo(posX,l),$.each(t,function(e,t){var a=(Math.random()*(.75-1.1)+1.1).toFixed(4),i=(l-t/c*o)*a;i=i>l?l:i,p.lineTo(posX,i),posX+=g}),p.lineTo(i-16,l),p.closePath(),p.fill(),p.font="12px sans-serif",p.textAlign="end",p.fillStyle=ggrey;for(var f=15,h=f;n>h;h+=f)p.strokeStyle="rgba(0, 0, 0, .025)",p.beginPath(),p.moveTo(m,l-h/c*o),p.lineTo(i-16,l-h/c*o),p.fillText(h,m-8,l-h/c*o+5),p.lineWidth=1,p.closePath(),p.stroke();posX=m,h=0,$.each(t,function(e,a){e>0&&e%2==0&&(p.beginPath(),p.moveTo(posX,l),p.lineTo(posX,32),p.lineWidth=1,p.strokeStyle="rgba(0, 0, 0, .05)",p.stroke()),$.each(t,function(t,i){t>e&&(p.beginPath(),p.moveTo(posX,l-a/c*o),p.lineTo(32+g*t,l-i/c*o),p.strokeStyle=hexToRgba(gsalmon,.25),p.lineWidth=1,p.stroke())});var i=((Math.random()*(.75-1.1)+1.1).toFixed(4),["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"]),r=s[e][0],n=r.substring(4),d=1*n.substring(0,2),e=1*n.substring(2),u=i[d-1].toUpperCase()+" "+e;p.fillStyle=hexToRgba(gsalmon,1),p.beginPath(),p.arc(posX,l-a/c*o,4,0,2*Math.PI),p.font="12px sans-serif",p.textAlign="center",p.closePath(),p.fill(),p.save(),p.fillStyle=ggrey,p.beginPath(),p.font="9px sans-serif",h%2==0&&p.fillText(u,posX,l+16),p.closePath(),p.fill(),p.restore(),posX+=g,h++})}function hexToRgba(e,t){var a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return a?"rgba("+parseInt(a[1],16)+", "+parseInt(a[2],16)+", "+parseInt(a[3],16)+", "+t+")":null}function populateBlogForm(e){tinymce.get("blog-content").setContent(e.content),$.each(e,function(e,t){return"content"==e||"image"==e?!0:void $("#blog-input-"+e).val(t)}),$("#blog-content").html(e.content),""!=e.image&&($("#blog-image-preview").css({backgroundImage:"url(/media/blog/"+e.image+")"}),$(".drop-hint").hide()),$("#edit-flag").val(e.id),modalOpen("#blog-add")}function postGroup(){postNavAdd()}function populateProductSearch(e){var t="";if(0==e.products.length){var a=$(".action-bar").clone();return $(".products-wrapper").html(a),$(".products-wrapper").append("<p>No products matching your search</p>"),NProgress.done(),!1}$.each(e.products,function(e,a){var o=a.status?"ENABLED":"DISABLED";t+='<tr class="product-item" data-id="'+a.id+'">',t+='<td class="select"><a href class="m-table-item-select m-table-item-select-single" data-id="'+a.id+'"><i class="m-checkbox"></i></a></td>',t+='<td class="title">'+a.title+"</td>",t+='<td class="sku">'+a.sku+"</td>",t+='<td class="created">'+a.created_at+"</td>",t+='<td class="views">'+a.views+"</td>",t+='<td class="author">'+o+"</td>",t+='<td class="m-table-item-options">',t+='<a href class="m-list-item-more"><i class="material-icons">more_horiz</i></a>',t+='<div class="m-list-item-option"><ul>',t+='<li><a href="'+a.id+'" class="product-edit">edit</a></li>',t+='<li><a href="'+a.id+'" class="item-duplicate">duplicate</a></li>',t+='<li><a href="/system/ajax/product/delete/'+a.id+'" class="item-delete direct-delete">delete</a></li>',t+="</ul></div></td></tr>"}),$("tbody").html(t),1!=$(".back-button").length&&$(".action-bar").prepend('<a class="md-button md-button-plain back-button" href="/admin/products">back</a>'),$(".load-more").hide(),NProgress.done()}function populateCustomerSearch(e){var t="";if(0==e.customers.length){var a=$(".action-bar").clone();return $(".customers-wrapper").html(a),$(".customers-wrapper").append("<p>No customers matching your search</p>"),NProgress.done(),!1}$.each(e.customers,function(e,a){t+='<tr class="customer-item" data-id="'+a.id+'">',t+='<td class="select"><a href class="m-table-item-select m-table-item-select-single" data-id="'+a.id+'"><i class="m-checkbox"></i></a></td>',t+='<td class="name">'+a.name+"</td>",t+='<td class="email">'+a.email+"</td>",t+='<td class="country">'+a.country+"</td>",t+='<td class="registered">'+a.created_at+"</td>",t+='<td class="status align-center">'+a.status+"</td>",t+='<td class="m-table-item-options">',t+='<a href class="m-list-item-more"><i class="material-icons">more_horiz</i></a>',t+='<div class="m-list-item-option" data-id="'+a.id+'"><ul>',t+='<li><a href="'+a.id+'" class="item-edit">edit</a></li>',t+='<li><a href="/system/ajax/customer/delete/'+a.id+'" class="item-delete direct-delete">delete</a></li>',t+="</ul></div></td></tr>"}),1!=$(".back-button").length&&$(".action-bar").prepend('<a class="md-button md-button-plain back-button" href="/admin/customers">back</a>'),$("tbody").html(t),NProgress.done()}function populateSubEdit(e){$.each(e,function(e,t){"image"!=e&&$("#"+e+"_input_subcat").val(t)}),$("#image_input_subcat").css({backgroundImage:"url(/media/nav/sub/"+e.image+")"}),$(".drop-hint").hide(),modalOpen("#register-subcategory"),NProgress.done()}function populateProductEdit(e){var t=e.product;$("#media-input").attr("data-id",t.id),$.each(t,function(e,t){"data"!=e&&"gallery"!=e&&"sizes"!=e&&$("#product-input-"+e).val(t)}),$.each(t.data,function(e,t){$("#product-input-"+e).val(t)});var a="";$.each(t.sizes,function(e,t){a+='<div class="m-input-wrapper m-input-wrapper w75-6">',a+='<input type="text" name="sizes_desc[]" required value="'+t.description+'">',a+='<label for="sizes_desc">size description</label>',a+="</div>",a+='<div class="m-input-wrapper m-input-wrapper w25-6">',a+='<input type="text" name="sizes_values[]" required value="'+t.value+'">',a+='<label for="sizes_values">size value(cm)</label>',a+='<a href="'+t.id+'" class="size-delete populated" style="position: absolute; top: 0; right: 0;"><i class="material-icons">close</i></a>',a+="</div>"}),$("#size-container").html(a),$(".input-group-caroussel-body").css({height:$("#caroussel-general").outerHeight()+"px"}),$("#media-wrapper").html(""),$.each(t.gallery,function(e,t){a="",a+='<div class="gallery-item background" id="media-'+t.id+'" style="background-image: url(\'/media/catalog/'+t.file+"')\">",a+='<div class="flexbox justify-end product-media-options">',a+='<a href="'+t.id+'" class="gallery-item-option"><i class="material-icons" style="font-size: 20px;">star_border</i></a>',a+='<a href="'+t.id+'" class="gallery-item-option product-gallery-delete"><i class="material-icons" style="font-size: 22px;">close</i></a>',a+="<div></div>",$("#media-wrapper").append(a)}),a='<select id="product-input-category_id" name="category" required>',a+='<option value="-" selected disabled>Select a category</option>',$.each(e.categories,function(e,o){selected=t.category_id==o.id?" selected":"",a+='<option value="'+o.id+'"'+selected+">"+o.data.title+"</option>"}),a+="</select>",a+='<label for="category">category</label>',$("#category-select-wrapper").html(a),a='<select id="product-input-subcategory_id" name="subcategory" required>',a+='<option value="-" selected disabled>Select a subcategory</option>',$.each(e.subcategories,function(e,o){selected=t.subcategory_id==o.id?" selected":"",a+='<option value="'+o.id+'"'+selected+">"+o.data.title+"</option>"}),a+="</select>",a+='<label for="subcategory">subcategory</label>',$("#subcategory-select-wrapper").html(a),$("#edit-flag").val(t.id),modalOpen("#product-add"),$(".product-caroussel-switch").removeClass("active"),$(".caroussel-switch > li:first-child > .product-caroussel-switch").addClass("active"),$(".input-group-caroussel-slider").css({transform:"translate3d(0, 0, 0)"}),$("#product-input-url").val(t.url),NProgress.done()}function populateProductDuplicate(e){var t=e.product;$("#media-input").attr("data-id",t.id),$.each(t,function(e,t){"data"!=e&&"gallery"!=e&&"sizes"!=e&&$("#product-input-"+e).val(t)}),$.each(t.data,function(e,t){$("#product-input-"+e).val(t)});var a="";$.each(t.sizes,function(e,t){a+='<div class="m-input-wrapper m-input-wrapper w75-6">',a+='<input type="text" name="sizes_desc[]" required value="'+t.description+'">',a+='<label for="sizes_desc">size description</label>',a+="</div>",a+='<div class="m-input-wrapper m-input-wrapper w25-6">',a+='<input type="text" name="sizes_values[]" required value="'+t.value+'">',a+='<label for="sizes_values">size value(cm)</label>',a+="</div>"}),$("#size-container").html(a),$(".input-group-caroussel-body").css({height:$("#caroussel-general").outerHeight()+"px"}),$("#media-wrapper").html(""),$.each(t.gallery,function(e,t){a="",a+='<div class="gallery-item background" id="media-'+t.id+'" style="background-image: url(\'/media/catalog/'+t.file+"')\">",a+='<div class="flexbox justify-end product-media-options">',a+='<a href="'+t.id+'" class="gallery-item-option"><i class="material-icons" style="font-size: 20px;">star_border</i></a>',a+='<a href="'+t.id+'" class="gallery-item-option product-gallery-delete"><i class="material-icons" style="font-size: 22px;">close</i></a>',a+="<div></div>",$("#media-wrapper").append(a)}),a='<select id="product-input-category_id" name="category" required>',a+='<option value="-" selected disabled>Select a category</option>',$.each(e.categories,function(e,o){selected=t.category_id==o.id?" selected":"",a+='<option value="'+o.id+'"'+selected+">"+o.data.title+"</option>"}),a+="</select>",a+='<label for="category">category</label>',$("#category-select-wrapper").html(a),a='<select id="product-input-subcategory_id" name="subcategory" required>',a+='<option value="-" selected disabled>Select a subcategory</option>',$.each(e.subcategories,function(e,o){selected=t.subcategory_id==o.id?" selected":"",a+='<option value="'+o.id+'"'+selected+">"+o.data.title+"</option>"}),a+="</select>",a+='<label for="subcategory">subcategory</label>',$("#subcategory-select-wrapper").html(a),$("#edit-flag").val(0),modalOpen("#product-add"),$(".product-caroussel-switch").removeClass("active"),$(".caroussel-switch > li:first-child > .product-caroussel-switch").addClass("active"),$(".input-group-caroussel-slider").css({transform:"translate3d(0, 0, 0)"}),$("#save-product").addClass("disabled"),NProgress.done()}function populateCategorySelect(e){$("#category-select-wrapper").html(""),dataHtml='<select class="category-select" id="product-input-category_id" name="category" required>',dataHtml+='<option value="-" selected disabled>Select a category</option>',$.each(e.categories,function(e,t){dataHtml+='<option value="'+t.id+'">'+t.data.title+"</option>"}),dataHtml+="</select>",dataHtml+='<label for="category">category</label>',$("#category-select-wrapper").html(dataHtml),NProgress.done()}function populateSubcategorySelect(e){$("#subcategory-select-wrapper").html(""),dataHtml='<select class="subcategory-select" id="product-input-subcategory_id" name="subcategory" required>',dataHtml+='<option value="-" selected disabled>Select a subcategory</option>',$.each(e.subcategories,function(e,t){dataHtml+='<option value="'+t.id+'">'+t.data.title+"</option>"}),dataHtml+="</select>",dataHtml+='<label for="subcategory">subcategory</label>',$("#subcategory-select-wrapper").html(dataHtml),NProgress.done()}function populateCustomerEdit(e){$.each(e,function(e,t){"password"!=e&&$("#customer-input-"+e).val(t)}),modalOpen("#customer-add"),$("#edit-flag").val(e.id),NProgress.done()}function populateProjectEdit(e){$("#media-input").attr("data-id",e.id),$("#project-input-title").val(e.title),$("#project-input-year").val(e.year),$("#project-input-description").val(e.description),$("#media-wrapper").html(""),$.each(e.pictures,function(e,t){dataHtml="",dataHtml+='<div class="gallery-item background" id="media-'+t.id+'" style="background-image: url(\'/media/projects/'+t.file+"')\">",dataHtml+='<div class="flexbox justify-end project-media-options">',dataHtml+='<a href="'+t.id+'" class="gallery-item-option project-gallery-delete"><i class="material-icons" style="font-size: 22px;">close</i></a>',dataHtml+="<div></div>",$("#media-wrapper").append(dataHtml)}),modalOpen("#project-add"),$("#edit-flag").val(e.id),NProgress.done()}function populateAwardEdit(e){$("#award-input-title").val(e.title),$("#award-input-year").val(e.year),$("#award-input-month").val(e.month),$("#award-input-desc").val(e.description),modalOpen("#award-add"),$("#edit-flag").val(e.id),NProgress.done()}function removeProductMedia(e){"undefined"!=typeof e.product_id&&$("#media-"+e.product_id).remove(),"undefined"!=typeof e.project_id&&$("#media-"+e.project_id).remove(),$(".input-group-caroussel-body").css({height:$("#caroussel-gallery").outerHeight()+"px"}),NProgress.done()}function showUploadedImages(e){$("#media-wrapper").html("");var t="undefined"!=typeof e.projects?"projects":"catalog";$.each(e.picture,function(e,a){dataHtml="",dataHtml+='<div class="gallery-item background" id="media-'+a.id+'" style="background-image: url(\'/media/'+t+"/"+a.file+"')\">",dataHtml+='<div class="flexbox justify-end product-media-options">',dataHtml+='<a href="'+a.id+'" class="gallery-item-option product-gallery-star"><i class="material-icons" style="font-size: 20px;">star_border</i></a>',dataHtml+='<a href="'+a.id+'" class="gallery-item-option product-gallery-delete"><i class="material-icons" style="font-size: 22px;">close</i></a>',dataHtml+="<div></div>",$("#media-wrapper").append(dataHtml)}),$(".input-group-caroussel-body").css({height:$("#caroussel-gallery").outerHeight()+"px"}),NProgress.done()}function showUploadedProjectsImages(e){$("#media-wrapper").html(""),$.each(e.picture,function(e,t){dataHtml="",dataHtml+='<div class="gallery-item background" id="media-'+t.id+'" style="background-image: url(\'/media/projects/'+t.file+"')\">",dataHtml+='<div class="flexbox justify-end product-media-options">',dataHtml+='<a href="'+t.id+'" class="gallery-item-option product-gallery-star"><i class="material-icons" style="font-size: 20px;">star_border</i></a>',dataHtml+='<a href="'+t.id+'" class="gallery-item-option product-gallery-delete"><i class="material-icons" style="font-size: 22px;">close</i></a>',dataHtml+="<div></div>",$("#media-wrapper").append(dataHtml)}),$(".input-group-caroussel-body").css({height:$("#caroussel-gallery").outerHeight()+"px"}),NProgress.done()}function postCategory(){postNavAdd()}function formatNumber(e){return Number(e).toLocaleString("en")}function postSubcategory(){postNavAdd()}function postNavAdd(){modalClose(),setTimeout(function(){location.reload()},500)}function consoleLog(e){window.console.log(e)}function doNothing(){return NProgress.done(),!1}var gred="#F44336",gpink="#E91E63",gsalmon="#FF4081",gpurple="#9C27B0",gdeeppurple="#673AB7",gindigo="#3F51B5",gblue="#2196F3",glightblue="#03A9F4",gcyan="#00BCD4",gteal="#009688",ggreen="#4CAF50",glightgreen="#8BC34A",glime="#CDDC39",gyellow="#FFEB3B",gamber="#FFC107",gorange="#FF9800",deeporange="#FF5722",gbrown="#795548",ggrey="#9E9E9E",gbluegrey="#607D8B";NProgress.configure({showSpinner:!1}),$(window).load(function(){$(".input-group-caroussel-body").css({height:$(".input-group-caroussel-slide").outerHeight()+"px"})}),function(e){window.alert=function(){return consoleLog("Daemn son"),e.apply(this,arguments)}}(window.alert),$(document).on("click",".navbar-main-link",function(e){e.preventDefault();var t=$(this).parent().index()+1;$(".navbar-main-link").removeClass("active"),$(this).addClass("active"),$(".navbar-ul").removeClass("active"),$(".navbar-ul:nth-child("+t+")").addClass("active")}),$(document).on("click",".m-list-item-more",function(e){e.preventDefault(),$(".m-list-item-option").removeClass("active"),$(this).next(".m-list-item-option").addClass("active")}),$(document).mouseup(function(e){var t=$(".m-list-item-option");t.is(e.target)||0!==t.has(e.target).length||$(".m-list-item-option").removeClass("active")}),$(document).on("click",".mini-link-notif",function(e){e.preventDefault(),$(".notification-wrapper").hasClass("active")?$(".notification-wrapper").removeClass("active"):$(".notification-wrapper").addClass("active")}),$(document).on("click",".admin-user",function(e){e.preventDefault(),$(".admin-profile-wrapper").hasClass("active")?$(".admin-profile-wrapper").removeClass("active"):$(".admin-profile-wrapper").addClass("active")}),$(document).mouseup(function(e){var t=$(".notification-wrapper");t.is(e.target)||0!==t.has(e.target).length||($(".mini-link-notif").removeClass("active"),$(".notification-wrapper").removeClass("active"))}),$(document).mouseup(function(e){var t=$(".admin-profile-wrapper");t.is(e.target)||0!==t.has(e.target).length||($(".admin-user").removeClass("active"),$(".admin-profile-wrapper").removeClass("active"))}),$(document).on("click",".modal-open",function(e){e.preventDefault();var t=$(this).attr("data-target");modalOpen(t)}),$(document).on("click",".modal-close",function(e){e.preventDefault(),modalClose()}),$(document).on("click","#mono-close",function(e){e.preventDefault(),$("#monolog").removeClass("active")}),$(document).on("change",".m-image-input",function(){UI.previewImage(this)&&$(this).siblings().children(".drop-hint").hide()}),$(document).on("click",".m-table-list-item-select-single",function(e){e.preventDefault(),$(this).hasClass("checked")&&$(".m-table-list-item-select-all").removeClass("checked"),$(this).toggleClass("checked")}),$(document).on("click",".m-table-list-item-select-all",function(e){e.preventDefault(),$(this).hasClass("checked")?$(".m-table-list-item-select").removeClass("checked"):$(".m-table-list-item-select").addClass("checked")}),$(document).on("keyup",".bind-input-from",function(){var e=$(this).val(),t=$(this).attr("data-target");e=e.trim(),e=e.replace(/\s/g,"-"),e=e.replace(/[&\/\\#\[\]\@\^\|\;\=\`\_,+()!$~%.'":*?<>{}]/g,""),e=e.toLowerCase(),$(t).val(e)}),$(document).on("keyup",".input-number-format",function(){var e=formatNumber($(this).val()),e=0==e?"":e;$(this).siblings(".number-format").html(e)}),$(document).on("click",".fab-button",function(){$("#edit-flag").attr("data-edit",0)}),$(document).on("click",".direct-delete",function(e){e.preventDefault();var t=$(this).attr("href");return confirm("Are you sure to delete this item? This cannot be undone!")?void(window.location.href=t):!1}),$(".m-caroussel-switch").on("click",function(e){e.preventDefault();var t=$(this).parent().index(),a=$(".input-group-caroussel-body").outerWidth(),o=$(".input-group-caroussel-slide:nth-child("+(t+1)+")").outerHeight();$(".m-caroussel-switch").removeClass("active"),$(this).addClass("active"),$(".input-group-caroussel-slider").css({transform:"translate3d(-"+a*t+"px, 0, 0)"}),$(".input-group-caroussel-body").css({height:o+"px"})}),$(document).on("mousemove","#analytics-canvas",function(e){var t=$("#analytics-canvas").offset().left,a=$("#analytics-canvas").offset().top;e.pageX-t-32,e.pageY-a}),$(document).on("keyup","#action-search-input",function(e){if(13==e.keyCode){var sTerm=$(this).val(),table=$(this).attr("data-table");Ajax.get(table+"/search/"+sTerm,eval($(this).attr("data-action")))}}),imageToRemove="";var Matter={admin:{enquiries:function(){function e(e){var t="";$.each(e,function(e,a){return"created_at"==e||"id"==e||"content"==e||"customer"==e||"customer_id"==e||"deleted_at"==e||"price"==e||"shipping_price"==e||"shipping_time"==e||"status"==e||"updated_at"==e||"cart"==e||"note"==e?!0:(t+='<div class="m-input-wrapper m-input-wrapper w25-9">',t+='<input type="text" name="'+e+'" id="enquiry-'+e+'" required disabled value="'+a+'">',t+='<label for="'+e+'"style="top: -6px; font-size: 10px; color: #323232; font-weight: 800;">'+e+"</label>",void(t+="</div>"))}),t+='<div class="m-input-wrapper m-input-wrapper fwidth">',t+='<textarea name="note" id="enquiry-notes" row="5" required disabled style="height: 96px;">'+e.note+"</textarea>",t+='<label for="note"style="top: -6px; font-size: 10px; color: #323232; font-weight: 800;">note</label>',t+="</div>",t+="<h3>Items:</h3>",t+='<div class="flexbox fwidth">',t+='<p style="width: 40%; position: relative; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; color: #6f6f6f;">title</p>',t+='<p style="width: 25%; position: relative; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; color: #6f6f6f;"">description</p>',t+='<p style="width: 25%; position: relative; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; color: #6f6f6f;"">size(cm)</p>',t+='<p style="width: 10%; position: relative; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; color: #6f6f6f;"">quantity</p>',t+="</div>",$.each(e.cart,function(e,a){t+='<div class="flexbox fwidth">',t+='<p style="width: 40%;">'+a.product.title+"</p>",t+='<p style="width: 25%;">'+a.size.description+"</p>",t+='<p style="width: 25%;">'+a.size.value+"</p>",t+='<p style="width: 10%;">'+a.qty+"</p>",t+="</div>"}),$("#enquiry-viewer").html(t),0==e.status?($("#enquiry-replied").removeClass("md-button-red"),$("#enquiry-replied").addClass("md-button-blue"),$("#enquiry-replied").html("mark as replied"),$("#enquiry-replied").attr("href","/system/ajax/enquiry/tag/"+e.id)):($("#enquiry-replied").removeClass("md-button-blue"),$("#enquiry-replied").addClass("md-button-red"),$("#enquiry-replied").html("mark as open"),$("#enquiry-replied").attr("href","/system/ajax/enquiry/untag/"+e.id)),$("#enquiry-email-button").attr("href","mailto:"+e.customer.email),modalOpen("#enquiry-view"),NProgress.done()}$(document).on("click",".enquiry-view",function(t){t.preventDefault();var a=$(this).attr("href");Ajax.get("enquiry/get/"+a,e)})},customers:function(){$(".customer-caroussel-switch").on("click",function(e){e.preventDefault();var t=$(this).parent().index(),a=$(".input-group-caroussel-body").outerWidth(),o=$(".input-group-caroussel-slide:nth-child("+(t+1)+")").outerHeight();$(".customer-caroussel-switch").removeClass("active"),$(this).addClass("active"),$(".input-group-caroussel-slider").css({transform:"translate3d(-"+a*t+"px, 0, 0)"}),$(".input-group-caroussel-body").css({height:o+"px"})}),$("#save-customer").on("click",function(e){e.preventDefault();var t=new FormData($("#customer-form")[0]);Ajax.post("customer/create",t,reload)}),$(document).on("click",".item-edit",function(e){e.preventDefault();var t=$(this).attr("href");Ajax.get("customer/get/"+t,populateCustomerEdit)})},products:function(){function e(e){dataHtml="",$.each(e.products,function(e,t){status=1==t.status?"ENABLED":"DISABLED",dataHtml+='<tr class="product-item" data-id="'+t.id+'">',dataHtml+='<td class="select"><a href class="m-table-item-select m-table-item-select-single" data-id="'+t.id+'"><i class="m-checkbox"></i></a></td>',dataHtml+='<td class="title">'+t.title+"</td>",dataHtml+='<td class="sku align-center">'+t.sku+"</td>",dataHtml+='<td class="created align-center">'+t.created_at+"</td>",dataHtml+='<td class="status align-center">'+status+"</td>",dataHtml+='<td class="m-table-item-options">',dataHtml+='<a href class="m-list-item-more"><i class="material-icons">more_horiz</i></a>',dataHtml+='<div class="m-list-item-option"><ul>',dataHtml+='<li><a href="'+t.id+'" class="item-edit">edit</a></li>',dataHtml+='<li><a href="'+t.id+'" class="item-duplicate">duplicate</a></li>',dataHtml+='<li><a href="/system/ajax/product/delete/'+t.id+'" class="item-delete direct-delete">delete</a></li>',dataHtml+="</ul></div></td></tr>"}),start=$(".load-more").attr("data-start"),start=1*start,$(".load-more").attr("data-start",start+1),$("tbody").append(dataHtml),$(".load-more").html("LOAD MORE"),NProgress.done()}$(document).on("click",".load-more",function(t){t.preventDefault(),$(".load-more").html("LOADING MORE PRODUCTS..");var a=$(this).attr("data-start"),o=$(this).attr("data-limit");Ajax.get("productsRange?start="+a+"&limit="+o,e)}),$(document).on("change","#product-input-group_id",function(){var e=$(this).val();$("#category-select-wrapper").html(""),$("#subcategory-select-wrapper").html(""),Ajax.get("category/getByParent/"+e,populateCategorySelect)}),$(document).on("change","#product-input-category_id",function(){var e=$(this).val();$("#subcategory-select-wrapper").html(""),Ajax.get("subcategory/getByParent/"+e,populateSubcategorySelect)}),$(document).on("click",".item-edit",function(e){e.preventDefault();var t=$(this).attr("href");Ajax.get("product/get/"+t,populateProductEdit)}),$(document).on("click",".item-duplicate",function(e){e.preventDefault();var t=$(this).attr("href");Ajax.get("product/get/"+t,populateProductDuplicate)}),$(".product-caroussel-switch").on("click",function(e){e.preventDefault();var t=$(this).parent().index(),a=$(".input-group-caroussel-body").outerWidth(),o=$(".input-group-caroussel-slide:nth-child("+(t+1)+")").outerHeight();$(".product-caroussel-switch").removeClass("active"),$(this).addClass("active"),$(".input-group-caroussel-slider").css({transform:"translate3d(-"+a*t+"px, 0, 0)"}),$(".input-group-caroussel-body").css({height:o+"px"})}),$("#save-product").on("click",function(e){e.preventDefault();var t=new FormData($("#product-form")[0]);Ajax.post("product/create",t,reload)}),$(document).on("click",".product-gallery-delete",function(e){e.preventDefault();var t=$(".product-gallery-delete").length,a=$(this).attr("href");$(this);return 1==t?(alert("please add more pictures before deleting the last image of this product!"),!1):confirm("Are you sure to remove this image from the associated product and storage? This cannot be undone!")?void Ajax.get("productimage/delete/"+a,removeProductMedia):!1}),$(document).on("click","#size-add",function(e){e.preventDefault();var t="";t+='<div class="m-input-wrapper m-input-wrapper w75-6">',t+='<input type="text" name="sizes_desc[]" class="bind-input-from" data-target="#product-input-url" required>',t+='<label for="size_desc_1">size description</label>',t+="</div>",t+='<div class="m-input-wrapper m-input-wrapper w25-6">',t+='<input type="text" name="sizes_values[]" class="bind-input-from" data-target="#product-input-url" required>',t+='<label for="size_value_1">size value(cm)</label>',t+='<a href class="size-delete" style="position: absolute; top: 0; right: 0;"><i class="material-icons">close</i></a>',t+="</div>",$("#size-container").append(t),$(".input-group-caroussel-body").css({height:$("#caroussel-properties").outerHeight()+"px"})}),$(document).on("click",".size-delete",function(e){if(e.preventDefault(),consoleLog($(".size-delete").length),1==$(".populated").length)return alert("Cannot delete last size of this item. Add more sizes before deleting this one."),!1;var t=$(this).attr("href");$(this).parent().prev().remove(),$(this).parent().remove(),$(this).hasClass("populated")&&0!=$("#edit-flag").val()&&Ajax.get("productsize/delete/"+t,doNothing)}),$(document).on("change","#media-input",function(){0!=$("#edit-flag").val()&&(NProgress.start(),fd=new FormData($("#product-form")[0]),fd.append("product_id",$(this).attr("data-id")),Ajax.post("productimage/add",fd,showUploadedImages))})},pdf:function(){$("#save-pdf").on("click",function(e){e.preventDefault(),fd=new FormData($("#pdf-form")[0]),Ajax.post("pdf/create",fd,reload)})},awards:function(){$("#save-award").on("click",function(e){e.preventDefault(),fd=new FormData($("#award-form")[0]),Ajax.post("award/create",fd,reload)}),$(".item-edit").on("click",function(e){e.preventDefault();var t=$(this).attr("href");Ajax.get("award/get/"+t,populateAwardEdit)})},homeslide:function(){$("#save-homeslide").on("click",function(e){e.preventDefault(),fd=new FormData($("#homeslide-form")[0]),Ajax.post("homeslide/create",fd,reload)})},projects:function(){$("#save-project").on("click",function(e){e.preventDefault(),fd=new FormData($("#project-form")[0]),Ajax.post("project/create",fd,reload)}),$(".item-edit").on("click",function(e){e.preventDefault();var t=$(this).attr("href");Ajax.get("project/retrieve/"+t,populateProjectEdit)}),$(document).on("click",".project-gallery-delete",function(e){e.preventDefault();var t=$(this).attr("href");return confirm("Are you sure to remove this image from the associated project? This cannot be undone!")?void Ajax.get("projectimage/delete/"+t,removeProductMedia):!1}),$(document).on("change","#media-input",function(){0!=$("#edit-flag").val()&&(NProgress.start(),fd=new FormData($("#project-form")[0]),fd.append("project_id",$(this).attr("data-id")),Ajax.post("projectimage/add",fd,showUploadedImages))})},blog:function(){$(document).on("click",".item-edit",function(e){e.preventDefault();var t=$(this).attr("href");Ajax.get("blog/retrieve/"+t,populateBlogForm)}),tinymce.init({selector:"textarea",setup:function(e){e.on("init",function(){$(e.getBody()).on("blur",function(e){}),$(e.getBody()).on("focus",function(e){$("#expandable-textarea").addClass("compress")})}),e.on("change",function(){})}}),$(document).mouseup(function(e){var t=$("#blog-form");t.is(e.target)||0!==t.has(e.target).length||$("#expandable-textarea").removeClass("compress");
}),$(document).mouseup(function(e){var t=$(".blog-item-option");t.is(e.target)||0!==t.has(e.target).length||$(".blog-item-option").removeClass("active")}),$(document).on("click","#close-blog-form",function(e){e.preventDefault(),$("#blog-form")[0].reset(),$("#blog-content").html(""),$(".drop-hint").show(),$("#blog-image-preview").css({backgroundImage:"url("+e.target.result+")"})}),$(document).on("click","#save-blog",function(e){e.preventDefault(),tinymce.triggerSave(),fd=new FormData($("#blog-form")[0]),Ajax.post("blog/create",fd,reload)})},dashboard:function(){var e;$(window).load(function(){Ajax.get("analytics/getall?metric=pageViews&from=13daysAgo&until=today",populateAnalytics)}),$(window).resize(function(){drawAnalyticsGraphs(e)}),$("#analytics-timeline").on("click",function(){$(this).children(".k-select-wrapper").addClass("active")}),$(".k-dropdown-option").on("click",function(e){e.preventDefault(),$(".k-select-wrapper").removeClass("active"),$(".drop-holder").html($(this).html())}),$(".analytics-viewer-tab").on("click",function(e){e.preventDefault();var t=$(this).parent().index()+1;$(".analytics-viewer-head").removeClass("before1"),$(".analytics-viewer-head").removeClass("before2"),$(".analytics-viewer-head").removeClass("before3"),$(".analytics-viewer-head").addClass("before"+t)})},categories:function(){function e(e){dataHtml='<li><div class="m-input-wrapper m-input-wrapper-select" style="margin-top: 32px; margin-bottom: 0;">',dataHtml+='<select id="category-select" name="category" required>',dataHtml+='<option value="-" disabled selected>category</option>',$.each(e.categories,function(e,t){dataHtml+='<option value="'+t.id+'">'+t.data.title+"</option>"}),dataHtml+="</select>",dataHtml+='<label for="category">category</label>',dataHtml+="</div>",dataHtml+='<li class="md-li align-right">',dataHtml+='<a href="'+e.group_id+'" class="add-category modal-open" id="edit-category"><i class="material-icons">mode_edit</i></a>',dataHtml+='<a href class="add-category modal-open" data-target="#register-category"><i class="material-icons">add</i></a>',dataHtml+="</li>",$("#category-select-wrapper").html(dataHtml),$("#group-id").val(e.group_id),NProgress.done()}function t(e){dataHtml='<li><div class="m-input-wrapper m-input-wrapper-select" style="margin-top: 32px; margin-bottom: 0;">',dataHtml+='<select id="subcategory-select" name="subcategory" required>',dataHtml+='<option value="-" disabled selected>subcategory</option>',$.each(e.subcategories,function(e,t){dataHtml+='<option value="'+t.id+'">'+t.data.title+"</option>"}),dataHtml+="</select>",dataHtml+='<label for="subcategory">subcategory</label>',dataHtml+="</div>",dataHtml+='<li class="md-li align-right">',dataHtml+='<a href="'+e.category_id+'" class="add-subcategory modal-open" id="edit-subcategory"><i class="material-icons">mode_edit</i></a>',dataHtml+='<a href class="add-subcategory modal-open" data-target="#register-subcategory"><i class="material-icons">add</i></a>',dataHtml+="</li>",$("#subcategory-select-wrapper").html(dataHtml),$("#category-id").val(e.category_id),NProgress.done()}function a(e){$.each(e.data,function(e,t){"image"!=e&&$("#group-input-"+e).val(t)}),$("#image_input_group").css({backgroundImage:"url(/media/group/"+e.thumbnail+")"}),$(".drop-hint").hide(),$("#group-edit-flag").val(e.id),modalOpen("#register-group"),NProgress.done()}function o(e){$.each(e.data,function(e,t){"image"!=e&&$("#category-input-"+e).val(t)}),$("#image_input_category").css({backgroundImage:"url(/media/categories/"+e.thumbnail+")"}),$(".drop-hint").hide(),$("#category-edit-flag").val(e.id),modalOpen("#register-category"),NProgress.done()}function i(e){$.each(e.data,function(e,t){"image"!=e&&$("#subcategory-input-"+e).val(t)}),$("#image_input_subcategory").css({backgroundImage:"url(/media/subcategories/"+e.thumbnail+")"}),$(".drop-hint").hide(),$("#subcategory-edit-flag").val(e.id),modalOpen("#register-subcategory"),NProgress.done()}$(document).on("change","#group-select",function(){var t=$(this).val();$("#category-select-wrapper").html(""),$("#subcategory-select-wrapper").html(""),Ajax.get("category/getByParent/"+t,e)}),$(document).on("change","#category-select",function(){var e=$(this).val();$("#subcategory-select-wrapper").html(""),Ajax.get("subcategory/getByParent/"+e,t)}),$(document).on("click","#edit-group",function(e){e.preventDefault();var t=$("#group-select").val();Ajax.get("group/get/"+t,a)}),$(document).on("click","#edit-category",function(e){e.preventDefault();var t=$("#category-select").val();Ajax.get("category/get/"+t,o)}),$(document).on("click","#edit-subcategory",function(e){e.preventDefault();var t=$("#subcategory-select").val();Ajax.get("subcategory/get/"+t,i)}),$(document).on("click","#save-group",function(e){e.preventDefault(),fd=new FormData($("#group-create-form")[0]),Ajax.post("categories/creategroup",fd,reload)}),$(document).on("click","#save-category",function(e){e.preventDefault(),fd=new FormData($("#category-create-form")[0]),Ajax.post("categories/createcategory",fd,reload)}),$(document).on("click","#save-subcategory",function(e){e.preventDefault(),fd=new FormData($("#subcategory-create-form")[0]),Ajax.post("categories/createsubcategory",fd,reload)})},pages:function(){$(".fab-button-action").on("click",function(e){e.preventDefault(),$(this).hasClass("active")?$(this).removeClass("active"):$(this).addClass("active")})},settings:function(){}}},aurl="/system/ajax/",Ajax={post:function(e,t,a){Ajax.base(e,t,a,"POST")},destroy:function(e,t,a){NProgress.start(),$.ajax({url:aurl+e,type:"POST",dataType:"json",data:t,async:!0,error:function(e,t,a){consoleLog(e.responseText)}}).done(function(e){a(e),consoleLog(e)})},get:function(e,t){return NProgress.start(),$.ajax({url:aurl+e,type:"GET",dataType:"json",async:!0,error:function(e,t,a){consoleLog(e.responseText)}}).done(function(e){consoleLog(e),t(e)})},base:function(e,t,a,o){NProgress.start(),$.ajax({url:aurl+e,type:o,data:t,processData:!1,contentType:!1,dataType:"json",async:!0,error:function(e,t,a){consoleLog(e.responseText)}}).done(function(e){switch(e.status){case 200:Monolog.notify(e.message.title,e.message.msg,NProgress.done()),a(e);break;default:Monolog.notify(e.message.title,e.message.msg,NProgress.done()),consoleLog(e)}})}},Monolog={notify:function(e,t){$("#monolog").hasClass("active")?($("#monolog").removeClass("active"),setTimeout(function(){$("#mono-title").html(e),$("#mono-msg").html(t),$("#monolog").addClass("active")},500)):($("#mono-title").html(e),$("#mono-msg").html(t),$("#monolog").addClass("active"))},confirm:function(e,t,a){confirm(e)?t("Blog action","Blog deleted"):a("Blog action","Blog deletion canceled")}},UI={previewImage:function(e){if(e.files&&e.files[0]){var t=new FileReader,a=$(e).siblings(".m-image-preview");return t.onload=function(e){$(a).css({backgroundImage:"url("+e.target.result+")"})},t.readAsDataURL(e.files[0]),!0}}};